<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TRUEKKI</title>
  <link rel="stylesheet" href="/estilos/barra.css">
</head>
<body>
<div class="menu-btn" onclick="openMenu()">‚ò∞</div>

<div class="sidebar" id="sidebar">
  <span class="close-btn" onclick="closeMenu()">‚úñ</span>
  <a href="publicar_producto.html">Publicar</a>
  <a href="#">Notificaciones</a>
  <a href="./chat.html">Chats</a>
  <a href="#">Historial</a>
  <a href="perfil_vendedor.html">Perfil</a>
  <a href="./bloqueo.html">Bloquear Usuario</a>
  <a href="./reportar.html">Reportar Usuario</a>
  <a href="./catalogo.html">Mis productos</a>
  <a href="#">Ayuda</a>
</div>

<div class="overlay" id="overlay" onclick="closeMenu()"></div>

<header>
  <h1>TRUEKKI</h1>
  <div class="search-bar">
    <input type="text" placeholder="Buscar...">
    <button>+</button>
  </div>
<!-- Bot√≥n para mostrar/ocultar filtros -->
<div class="filter-toggle" onclick="toggleFilters()">‚ãÆ</div>

<!-- Filtros ocultos al principio -->
<div id="filters" class="hidden">
  <select id="categoryFilter">
    <option value="all">Todas las categor√≠as</option>
    <option value="ropa">Ropa</option>
    <option value="tecnologia">Tecnolog√≠a</option>
    <option value="libros">Libros</option>
  </select>

  <select id="priceFilter">
    <option value="all">Todos los precios</option>
    <option value="low">menor a 20.000 COP</option>
    <option value="medium">$100.000 COP - $500.000 COP</option>
    <option value="high">Mayor a $500.000</option>
  </select>

  <select id="conditionFilter">
    <option value="all">Todos los estados</option>
    <option value="nuevo">Nuevo</option>
    <option value="usado">Usado</option>
  </select>
</div>
<br><br><br>
  <div class="icons">
    <span>‚ô°</span>
    <span>üí¨</span>
    <br>
  </div>
  <br><br><br>
</header>

<section class="products">
  <!-- Producto 1 -->
  <div class="card producto" data-category="ropa" data-price="150" data-condition="nuevo">
    <a class="card-link" href="#"></a>
    <img src="https://i.pinimg.com/736x/8e/8d/19/8e8d19acba343386d4cc1f917bf80995.jpg" alt="Jeans">
    <div class="actions"><span class="heart">‚ù§</span><span class="cart">üí¨</span></div>
    <p>Jeanss Baggy</p>
  </div>

  <!-- Producto 2 -->
  <div class="card producto" data-category="ropa" data-price="120" data-condition="usado">
    <a class="card-link" href="detalle_producto.html?product=2"></a>
    <img src="https://static.wixstatic.com/media/e3c921_72852877781f47609ed2099aeb792674~mv2.jpg/v1/fit/w_500,h_500,q_90/file.jpg" alt="Corset">
    <div class="actions"><span class="heart">‚ù§</span><span class="cart">üí¨</span></div>
    <p>Corset Cafe</p>
  </div>

  <!-- Producto 3 -->
  <div class="card producto" data-category="tecnologia" data-price="900" data-condition="nuevo">
    <a class="card-link" href="producto.html"></a>
    <img src="https://th.bing.com/th/id/OIP.vewfenftbHKrLMt4yaq72wHaHa" alt="Portatil Gamer">
    <div class="actions"><span class="heart">‚ù§</span><span class="cart">üí¨</span></div>
    <p>Portatil Gamer</p>
  </div>

  <!-- Producto 4 -->
  <div class="card producto" data-category="libros" data-price="50" data-condition="usado">
    <a class="card-link" href="detalle_producto.html?product=4"></a>
    <img src="https://tse3.mm.bing.net/th/id/OIP.X81k0hwApMg-aeIyPZJ3FwHaLH" alt="Libro 100 A√±os">
    <div class="actions"><span class="heart">‚ù§</span><span class="cart">üí¨</span></div>
    <p>Libro Original 100 A√±os de Soledad</p>
  </div>

  <!-- Agrega los dem√°s productos igual usando data-category, data-price y data-condition -->
</section>

<script>
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");

  function openMenu() {
    sidebar.style.width = "250px";
    overlay.style.display = "block";
  }

  function closeMenu() {
    sidebar.style.width = "0";
    overlay.style.display = "none";
  }

  document.querySelectorAll('.heart, .cart').forEach(icon => {
    icon.addEventListener('click', function(e) {
      e.stopPropagation();
      e.preventDefault();
      alert('Funcionalidad de ' + (this.classList.contains('heart') ? 'favoritos' : 'carrito') + ' activada');
    });
  });

  // Filtros
  const filters = {
    category: "all",
    price: "all",
    condition: "all"
  };

  document.getElementById("categoryFilter").addEventListener("change", (e) => {
    filters.category = e.target.value;
    applyFilters();
  });

  document.getElementById("priceFilter").addEventListener("change", (e) => {
    filters.price = e.target.value;
    applyFilters();
  });

  document.getElementById("conditionFilter").addEventListener("change", (e) => {
    filters.condition = e.target.value;
    applyFilters();
  });

  function applyFilters() {
    const products = document.querySelectorAll(".producto");

    products.forEach(product => {
      const category = product.getAttribute("data-category");
      const price = parseFloat(product.getAttribute("data-price"));
      const condition = product.getAttribute("data-condition");

      let visible = true;

      if (filters.category !== "all" && category !== filters.category) {
        visible = false;
      }

      if (filters.price === "low" && price >= 100) visible = false;
      if (filters.price === "medium" && (price < 100 || price > 500)) visible = false;
      if (filters.price === "high" && price <= 500) visible = false;

      if (filters.condition !== "all" && condition !== filters.condition) {
        visible = false;
      }

      product.style.display = visible ? "block" : "none";
    });
  }



  function toggleFilters() {
    const filters = document.getElementById("filters");
    filters.classList.toggle("hidden");
  }



</script>


</body>
</html>