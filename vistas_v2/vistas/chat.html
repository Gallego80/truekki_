<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/chat.css">
    <title>chat</title>
</head>
<body>
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chat estilo Roblox - Truekki</title>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-left">
      <span class="logo-text">TRUEKKI</span>
    </div>
    <div class="navbar-center">
      <input
        type="search"
        class="search-input"
        placeholder="Buscar..."
        aria-label="Buscar"
      />
      <button class="search-btn">+</button>
    </div>
    <div class="navbar-right">
      <button class="icon-btn">❤️</button>
      <button class="icon-btn">💬</button>
      <button class="icon-btn">☰</button>
    </div>
  </nav>

<div class="main-container">
  <aside class="sidebar">
    <div class="sidebar-header">Chats</div>
    <div class="chat-list" id="chatList">
      <div class="chat-item active" data-name="María López" data-img="https://randomuser.me/api/portraits/women/68.jpg">
        <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="María López" />
        <div class="chat-name">María López</div>
      </div>
      <div class="chat-item" data-name="Carlos Pérez" data-img="https://randomuser.me/api/portraits/men/44.jpg">
        <img src="https://randomuser.me/api/portraits/men/44.jpg" alt="Carlos Pérez" />
        <div class="chat-name">Carlos Pérez</div>
      </div>
      <div class="chat-item" data-name="Ana Gómez" data-img="https://randomuser.me/api/portraits/women/51.jpg">
        <img src="https://randomuser.me/api/portraits/women/51.jpg" alt="Ana Gómez" />
        <div class="chat-name">Ana Gómez</div>
      </div>
      <div class="chat-item" data-name="Luis Martínez" data-img="https://randomuser.me/api/portraits/men/69.jpg">
        <img src="https://randomuser.me/api/portraits/men/69.jpg" alt="Luis Martínez" />
        <div class="chat-name">Luis Martínez</div>
      </div>
    </div>
  </aside>

  <section class="chat-area">
    <div class="chat-header" id="chatHeader">
      <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Contacto" id="chatHeaderImg" />
      <div class="contact-name" id="chatHeaderName">María López</div>
    </div>

    <div class="messages-container" id="messagesContainer">
      <div class="message contact">Hola! ¿Cómo estás?</div>
      <div class="message user">¡Hola María! Bien, ¿y tú?</div>
    </div>

    <div class="input-area">
      <input type="text" id="messageInput" placeholder="Escribe un mensaje..." autocomplete="off" />
      <button id="sendBtn">Enviar</button>
    </div>
  </section>
</div>

<script>
  const chatList = document.getElementById('chatList');
  const chatHeaderName = document.getElementById('chatHeaderName');
  const chatHeaderImg = document.getElementById('chatHeaderImg');
  const messagesContainer = document.getElementById('messagesContainer');
  const messageInput = document.getElementById('messageInput');
  const sendBtn = document.getElementById('sendBtn');

  // Chats data - mensajes simulados para cada contacto
  const chatsData = {
    "María López": [
      {sender: "contact", text: "Hola! ¿Cómo estás?"},
      {sender: "user", text: "¡Hola María! Bien, ¿y tú?"}
    ],
    "Carlos Pérez": [
      {sender: "contact", text: "¿Ya viste la última actualización?"},
      {sender: "user", text: "Sí, está genial!"}
    ],
    "Ana Gómez": [
      {sender: "contact", text: "¿Quieres quedar esta semana?"},
      {sender: "user", text: "Claro, dime cuándo."}
    ],
    "Luis Martínez": [
      {sender: "contact", text: "¡Hola! ¿Listo para el evento?"},
      {sender: "user", text: "Sí, muy emocionado!"}
    ]
  };

  // Respuestas automáticas
  const autoReplies = [
    "¡Claro!",
    "Perfecto, avísame.",
    "Gracias por el mensaje.",
    "Nos vemos pronto.",
    "Estoy en eso.",
    "Hablamos luego."
  ];

  // Cargar mensajes en la conversación
  function loadMessages(name) {
    messagesContainer.innerHTML = '';
    const messages = chatsData[name] || [];
    messages.forEach(msg => {
      const div = document.createElement('div');
      div.classList.add('message', msg.sender);
      div.textContent = msg.text;
      messagesContainer.appendChild(div);
    });
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }

  // Cambiar chat activo
  function changeActiveChat(target) {
    document.querySelectorAll('.chat-item').forEach(item => {
      item.classList.remove('active');
    });
    target.classList.add('active');

    const name = target.dataset.name;
    const img = target.dataset.img;
    chatHeaderName.textContent = name;
    chatHeaderImg.src = img;

    loadMessages(name);
  }

  // Evento click en lista chats
  chatList.addEventListener('click', (e) => {
    const chatItem = e.target.closest('.chat-item');
    if (!chatItem) return;
    changeActiveChat(chatItem);
  });

  // Añadir mensaje usuario
  function addMessage(text, sender) {
    const div = document.createElement('div');
    div.classList.add('message', sender);
    div.textContent = text;
    messagesContainer.appendChild(div);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }

  // Enviar
</script>
</body>
</html>